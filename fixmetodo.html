<style>
	fix-me, to-do {
		font-family: arial;
		color: #fff;
		border-radius: 3px;
		padding: 2px 4px;
		font-weight: bold;
		text-shadow: 0 1px 1px rgba(0, 0, 0, 0.6);
	}
	
	fix-me {
		background-color: #d00;
	}

	to-do {
		background-color: #e70;
	}
</style>

<script>
	(function() {
		var reflectAttribute = function(prototype, attributeName, propertyName) {
			Object.defineProperty(prototype, propertyName || attributeName, {
				get: function() {
					return this.getAttribute(attributeName) || "";
				},
				set: function(value) {
					this.setAttribute(attributeName, value);
				},
			});
		}

		var proto = Object.create(HTMLElement.prototype);
		reflectAttribute(proto, "who");
		
		var updateInnerHTML = function(node) {
			var str = node.nodeName.toUpperCase().replace("-", "");
			if (node.who) { str += " " + node.who; }
			node.shadowRoot.innerHTML = str;
		}

		proto.createdCallback = function() {
			this.createShadowRoot();
			updateInnerHTML(this);
		};

		// Fires when an attribute was added, removed, or updated
		proto.attributeChangedCallback = function(attr, oldVal, newVal) {
			switch (attr) {
				case "who":
					updateInnerHTML(this);
				break;
			}
		};
		
		window.FixMe = document.registerElement("fix-me", {prototype: Object.create(proto)});
		window.ToDo = document.registerElement("to-do", {prototype: Object.create(proto)});
	})();
</script>
